<html><head><style>body {
  background-color: #eee;
  color: black;
  padding: 20px;
}
a {
  color: #07c;
  text-decoration: none;
}
a:hover {
  color: #a00;
}
img {
  max-width: 450px;
}
</style></head><body><h1 id="light-demo">Light Demo</h1>
<p>A zigbee router device. esp32-c3 controls zigbee behavior via zbhci.</p>
<h2 id="hardware-required">Hardware Required</h2>
<ul>
<li>T-ZigBee board * 2</li>
<li>U2T</li>
</ul>
<h2 id="software-required">Software Required</h2>
<ul>
<li>Install <a href="https://zbhci.readthedocs.io/en/latest/user-guide/mosquitto.html">mosquitto</a></li>
<li>Install <a href="https://zbhci.readthedocs.io/en/latest/user-guide/home-assistant.html">home assistant</a></li>
</ul>
<h2 id="zigbee2mqtt">zigbee2mqtt</h2>
<p>Select one of the T-ZigBee as the zigbee gateway, and program the program <a href="../zigbee2mqtt">zigbee2mqtt</a>. And follow the <a href="https://zbhci.readthedocs.io/en/latest/user-guide/zigbee2mqtt.html">documentation</a> for related configuration.</p>
<h2 id="light_demo">light_demo</h2>
<p>Select T-ZigBee as the node. Do the following.</p>
<h3 id="update-firmware">Update Firmware</h3>
<p>Adjust the DIP switch:</p>
<p><img src="../../docs/_static/upload_mode.png" alt=""></p>
<p>Need to upgrade the firmware of TLSR8258 to <a href="../../firmware/hciDevice_ZR_8258_SDK_eb644f1_MD5_3e7c395bacca28475952808a79ff2ec1.bin">hciDevice_ZR_8258_SDK_eb644f1_MD5_3e7c395bacca28475952808a79ff2ec1.bin</a></p>
<h3 id="upload-sketch">Upload Sketch</h3>
<p>Adjust the DIP switch:</p>
<p><img src="../../docs/_static/upload_mode_c3.png" alt=""></p>
<p>Upload the <a href="./light_demo.ino">light_demo.ino</a> sketch</p>
<h2 id="pair">Pair</h2>
<ol>
<li><p>Double-click the button on the upper side of the gateway to open the device join mode. Open successfully. The green led will be constant.</p>
<p> <img src="../../docs/_static/user-guide/light-demo/permit_join.png" alt=""></p>
</li>
<li><p>Press and hold the button on the top of the node device for 3 seconds to start pairing. The green led will be constant, indicating that the pairing is complete.</p>
<p> <img src="../../docs/_static/user-guide/light-demo/paired.png" alt=""></p>
</li>
</ol>
<h2 id="home-assistant">Home Assistant</h2>
<p><img src="../../docs/_static/user-guide/light-demo/add-device_1.png" alt=""></p>
<p><img src="../../docs/_static/user-guide/light-demo/add-device_2.png" alt=""></p>
<p><img src="../../docs/_static/user-guide/light-demo/add-device_3.png" alt=""></p>
<p><img src="../../docs/_static/user-guide/light-demo/add-device_4.png" alt=""></p>
</body></html>